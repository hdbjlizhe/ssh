<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>登录</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <!--<meta name="_csrf" th:content="${_csrf.token}"/>-->
    <!--<meta name="_csrf_header" th:content="${_csrf.headerName}"/>-->
    <!--<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>-->
    <!--<script th:inline="javascript">-->
        <!--/*<![CDATA[*/-->
        <!--$(function () {-->
            <!--var token = $("meta[name='_csrf']").attr("content");-->
            <!--var header = $("meta[name='_csrf_header']").attr("content");-->
            <!--alert(token);-->
            <!--alert(header);-->

            <!--$(document).ajaxSend(function(e, xhr, options) {-->
                <!--alert(00);-->
                <!--xhr.setRequestHeader(header, token);-->
            <!--});-->
        <!--});-->
    <!--/*]]>*/-->
    <!--</script>-->
</head>
<body>

<form method="post" action="/login">
        邮  箱：<input name="username" type="text"/>
        密  码：<input name="password" type="password"/>
        <!--注释掉可测试CSRF防御-->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <button  value="">登录</button>
</form>

    <th:block th:text="${#httpServletRequest.session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION')}"></th:block>

</body>
</html>